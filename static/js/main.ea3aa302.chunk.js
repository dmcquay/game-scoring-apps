(this["webpackJsonpgame-scoring-apps"]=this["webpackJsonpgame-scoring-apps"]||[]).push([[0],{59:function(e,t,a){(function(t){t.localStorage?e.exports=t.localStorage:e.exports={getItem:function(e){return this[e]},setItem:function(e,t){this[e]=t}}}).call(this,a(80))},71:function(e,t,a){e.exports=a.p+"static/media/menu.0db3c92e.svg"},73:function(e,t,a){e.exports=a(83)},78:function(e,t,a){},79:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(70),i=a.n(l),s=(a(78),a(72)),o=a(6),c=a(33),u=a(10),d=a(57),m=a(39),h=a(40),p=a(43),y=a(42),f=a(19),v=a(66),b=a(61),E=a(36),g=a(62),k=a(51),w=a(49),N=a(65);function P(e){function t(t){return function(){e.onClose(),t()}}return r.a.createElement("nav",{className:"menu"},r.a.createElement("ul",null,r.a.createElement("li",{onClick:t(e.onNewGame)},"New Game"),r.a.createElement("li",{onClick:t(e.onAddPlayer)},"Add Player"),r.a.createElement("li",{onClick:t(e.onShowRules)},"Rules"),r.a.createElement("li",{onClick:t(e.onUndo)},"Undo"),r.a.createElement("li",{onClick:e.onClose},"Close Menu")))}function T(e){var t=e.onClose,a=e.onNewGame;return r.a.createElement("div",null,r.a.createElement("div",{className:"modal show",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"New Game"),r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Are you sure you want to start a new game? Current game progress will be lost.")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary",onClick:a},"Yes, new game"),r.a.createElement("button",{type:"button",className:"btn btn-lg btn-secondary",onClick:t},"Cancel"))))),r.a.createElement("div",{className:"modal-backdrop show"}))}function M(){return r.a.createElement("div",{className:"rules"},r.a.createElement("h3",null,"Getting Started"),r.a.createElement("p",null,"Greed consists of several rounds. In each round, players are dealt as many cards as the round. For example, in round one, each player gets one card. In round two each player gets two cards. You can play as many rounds as you want until you run out of cards (e.g. maximum of 10 rounds for 5 players)."),r.a.createElement("h3",null,"The Bidding Phase"),r.a.createElement("p",null,"The bidding phase is next, but to understand bidding, you must first understand the next phase (the \u201cTricks\u201d phase), so we\u2019ll come back to bidding in a moment."),r.a.createElement("h3",null,"The Tricks Phase"),r.a.createElement("p",null,"The goal of this phase is to win as many tricks as you can. A trick is when every player puts down one card. The player with the best card wins the trick. The first card of the trick determines the suit. We\u2019ll call this the leading suit. To win the trick, a subsequent player must play a larger card of the same suit (or of the trump suit, which we\u2019ll explain in a moment)."),r.a.createElement("p",null,"If a player has a card of the leading suit, she must play a card of that suit."),r.a.createElement("p",null,"For the first trick of the round, the player who bids highest plays first. After that, the winner of the previous trick plays first."),r.a.createElement("h4",null,"The Trump Suit"),r.a.createElement("p",null,"After dealing, the next card is flipped over to determine the trump suit for that round. Normally, to win a trick, you must play a card of the same suit as the leading card. Cards of all other suits have zero value. The trump suit is an exception to this. Cards of the trump suit all have a higher value than the leading suit. If the leading suit is hearts and the trump suit is spades, a 2 of spades has a higher value than the ace of hearts."),r.a.createElement("p",null,"The trump suit cannot be played in the first trick unless a player has no other cards in their hand. The trump suit cannot be the first card played for any trick until the trump suit has been \u201cbroken.\u201d To \u201cbreak\u201d the trump suit for a given round, a player must not have a card of the leading suit in their hand and they choose to play a card of the trump suit at that time. In rare cases, if a trump card is played on the first trick (because that player has no non-trump cards in their hand), that counts as \u201cbreaking\u201d the trump suit as well."),r.a.createElement("h4",null,"More on Bidding"),r.a.createElement("p",null,"Once the cards are dealt (before the Tricks phase), the bidding phase begins. The player to the dealer\u2019s left bids first and then bidding proceeds clockwise. Each player states how many tricks they think they will win for that round. The player that bids highest gets to play first on the first trick."),r.a.createElement("h3",null,"Scoring"),r.a.createElement("p",null,"Your score for each round is determined by your bid and how many tricks you win. Winning a trick is worth one point. Winning a trick that you bid for is worth 3 points. But beware because if you win fewer tricks than you bid, then you get negative three points for each trick you bid and no points for each trick you won."),r.a.createElement("p",null,"Let\u2019s look at a few scoring examples:"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Bid"),r.a.createElement("th",null,"Tricks won"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"0"),r.a.createElement("td",null,"2"),r.a.createElement("td",null,"2")),r.a.createElement("tr",null,r.a.createElement("td",null,"2"),r.a.createElement("td",null,"3"),r.a.createElement("td",null,"7")),r.a.createElement("tr",null,r.a.createElement("td",null,"3"),r.a.createElement("td",null,"2"),r.a.createElement("td",null,"-9")))),r.a.createElement("h3",null,"Other details"),r.a.createElement("p",null,"Greed is played without jokers."))}function C(e){var t=e.onClose;return r.a.createElement("div",null,r.a.createElement("div",{className:"modal show",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Rules of Greed"),r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:t},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body rules-modal-body"},r.a.createElement(M,null))))),r.a.createElement("div",{className:"modal-backdrop show"}))}var I=function(e){Object(p.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={player:e.players[0]},n}return Object(h.a)(a,[{key:"handleSelectPlayer",value:function(e){this.setState({player:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.players,n=e.completedRounds,l=this.state.player;return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control",value:l,onChange:this.handleSelectPlayer.bind(this)},a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Bid"),r.a.createElement("th",null,"Won"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,n.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{key:"grid-".concat(t)},t+1),r.a.createElement("td",{key:"grid-".concat(t,"-bid")},"3"),r.a.createElement("td",{key:"grid-".concat(t,"-won")},"4"),r.a.createElement("td",{key:"grid-".concat(t,"-points")},"10"),r.a.createElement("td",{key:"grid-".concat(t,"-total")},"15"))})))),r.a.createElement("button",{className:"btn btn-secondary",onClick:t},"Close"))}}]),a}(r.a.Component),O=a(45),S=function(e){Object(p.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={playerName:"",initialScore:"0"},n.addPlayer=n.addPlayer.bind(Object(O.a)(n)),n.setFieldValue=n.setFieldValue.bind(Object(O.a)(n)),n}return Object(h.a)(a,[{key:"addPlayer",value:function(){this.props.onAddPlayer(this.state.playerName,this.state.initialScore),this.props.onClose()}},{key:"setFieldValue",value:function(e){var t=e.target.name,a=e.target.value;this.setState((function(e){return Object(c.a)({},t,a)}))}},{key:"render",value:function(){var e=this.props.onClose;return r.a.createElement("div",null,r.a.createElement("div",{className:"modal show",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Add Player Mid-Game"),r.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:e},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Player Name:"),r.a.createElement("input",{type:"text",className:"form-control",name:"playerName",value:this.state.playerName,onChange:this.setFieldValue})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Initial Score:"),r.a.createElement("input",{type:"number",className:"form-control",name:"initialScore",value:this.state.initialScore,onChange:this.setFieldValue}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary",onClick:this.addPlayer},"Add Player"),r.a.createElement("button",{type:"button",className:"btn btn-lg btn-secondary",onClick:e},"Cancel"))))),r.a.createElement("div",{className:"modal-backdrop show"}))}}]),a}(r.a.Component),j=a(71),G=a.n(j),A=(a(79),a(58));function x(e,t,a){return A.path(["rounds",t,"tricks",e],a)||0}function R(e,t,a){return A.path(["rounds",t,"bids",e],a)}function B(e){return A.compose(A.filter(A.prop("complete")),A.prop("rounds"))(e).length}function L(e){var t=B(e);return e.rounds.slice(0,t)}function F(e,t,a){var n=R(e,t,a),r=x(e,t,a);return void 0===n?0:r>=n?3*n+(r-n):-3*n}function D(e){var t=e.players.map((function(t){return{player:t,score:function(e,t){for(var a=B(t),n=A.path(["initialPoints",e],t)||0,r=0;r<a;r++)n+=F(e,r,t);return n}(t,e)}}));return A.reverse(A.sortBy(A.prop("score"),t))}function W(e,t){var a=(t+1)%e.length;return e.slice(a).concat(e.slice(0,a))}var U=a(59),V=a.n(U),Y={stage:"input-players",showMenu:!1,showNewGameModal:!1,showRulesModal:!1,showAddPlayerModal:!1,showGrid:!1,playerInput:"",playerInputError:void 0,players:[],round:0,rounds:[],initialPoints:{}},J=[],z=function(e){Object(p.a)(a,e);var t=Object(y.a)(a);function a(e){var n;Object(m.a)(this,a),(n=t.call(this,e)).state=Y;var r=V.a.getItem("greedState");return r&&(n.state=JSON.parse(r)),n}return Object(h.a)(a,[{key:"componentWillUpdate",value:function(e,t){V.a.setItem("greedState",JSON.stringify(t))}},{key:"updatePlayerInput",value:function(e){var t=void 0;e&&this.state.players.find((function(t){return t===e}))&&(t="Player names must be unique"),this.setState((function(a){return{playerInput:e,playerInputError:t}}))}},{key:"undo",value:function(){if(J.length){var e=J.pop();console.log("restoring state",e),this.setState(e)}else console.log("Nothing left to undo")}},{key:"addPlayer",value:function(e){return e.preventDefault(),this.state.playerInputError||(J.push(this.state),this.setState((function(e){return{players:[].concat(Object(d.a)(e.players),[e.playerInput]),playerInput:""}}))),!1}},{key:"startGame",value:function(e){return e.preventDefault(),this.state.playerInput&&this.addPlayer(e),J.push(this.state),this.setState((function(e){return{stage:"bids"}})),!1}},{key:"getNextPlayerToBid",value:function(){var e=f.a(["rounds",this.state.round,"bids"],this.state)||{};return W(this.state.players,this.state.round).find((function(t){return void 0===e[t]}))}},{key:"submitBid",value:function(e,t){J.push(this.state),this.setState((function(a){return v.a(b.a(["rounds",a.round,"bids",e]),t,a)}))}},{key:"setPlayerTrickCount",value:function(e,t){var a=b.a(["rounds",this.state.round,"tricks",e]);this.setState((function(e){return v.a(a,t,e)}))}},{key:"incrementPlayerTrickCount",value:function(e){this.setPlayerTrickCount(e,x(e,this.state.round,this.state)+1)}},{key:"decrementPlayerTrickCount",value:function(e){var t=x(e,this.state.round,this.state)-1;this.setPlayerTrickCount(e,Math.max(0,t))}},{key:"completeRound",value:function(){J.push(this.state),this.setState((function(e){return E.a(v.a(b.a(["rounds",e.round,"complete"]),!0),v.a(g.a("stage"),"bids"),v.a(g.a("round"),e.round+1))(e)}))}},{key:"doneBidding",value:function(){J.push(this.state),this.setState((function(e){return Object(u.a)(Object(u.a)({},e),{},{stage:"tricks"})}))}},{key:"showGrid",value:function(){this.setState((function(e){return{showGrid:!0}}))}},{key:"hideGrid",value:function(){this.setState((function(e){return{showGrid:!1}}))}},{key:"openMenu",value:function(){this.setState((function(e){return{showMenu:!0}}))}},{key:"closeMenu",value:function(){this.setState((function(e){return{showMenu:!1}}))}},{key:"showRulesModal",value:function(){this.setState((function(e){return{showRulesModal:!0}}))}},{key:"closeRulesModal",value:function(){this.setState((function(e){return{showRulesModal:!1}}))}},{key:"showNewGameModal",value:function(){this.setState((function(e){return{showNewGameModal:!0}}))}},{key:"closeNewGameModal",value:function(){this.setState((function(e){return{showNewGameModal:!1}}))}},{key:"showAddPlayerModal",value:function(){this.setState((function(e){return{showAddPlayerModal:!0}}))}},{key:"closeAddPlayerModal",value:function(){this.setState((function(e){return{showAddPlayerModal:!1}}))}},{key:"startNewGame",value:function(){this.setState((function(e){return Y}))}},{key:"addPlayerMidGame",value:function(e,t){var a=this;this.setState((function(n){return{players:[].concat(Object(d.a)(a.state.players),[e]),initialPoints:Object(u.a)(Object(u.a)({},a.state.initialPoints),{},Object(c.a)({},e,parseInt(t,10)))}}))}},{key:"renderTricks",value:function(){var e=this,t=E.a(k.a,w.a,f.a(["rounds",this.state.round,"tricks"]))(this.state)===this.state.round+1;return r.a.createElement("div",null,this.state.players.map((function(t){return r.a.createElement("div",{key:t,className:"player-tricks-row"},r.a.createElement("div",{className:""},t," (",R(t,e.state.round,e.state),")"),r.a.createElement("div",{className:"player-tricks-scoring-controls"},r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:function(){return e.incrementPlayerTrickCount(t)}},"+"),r.a.createElement("span",{className:"player-tricks-count"},x(t,e.state.round,e.state)),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:function(){return e.decrementPlayerTrickCount(t)}},"-")))})),r.a.createElement("button",{className:"btn btn-lg btn-block btn-primary",disabled:!t,onClick:this.completeRound.bind(this)},"Complete Round"))}},{key:"renderBids",value:function(){var e,t=this,a=this.getNextPlayerToBid(),n=W(this.state.players,this.state.round).filter((function(e){return void 0!==R(e,t.state.round,t.state)})).map((function(e){return{player:e,bid:R(e,t.state.round,t.state)}}));if(n.length){var l=Math.max.apply(Math,Object(d.a)(n.map((function(e){return e.bid}))));e=n.find((function(e){e.player;return e.bid===l})).player}var i,s,o=(i=this.state.players,s=this.state.round,i[s%i.length]);return r.a.createElement("div",{className:"bids"},!!a&&r.a.createElement("div",null,r.a.createElement("h2",null,"Bid for ",a),N.a(0,this.state.round+2).map((function(e){return r.a.createElement("button",{className:"btn btn-lg btn-primary btn-bid",key:e,onClick:function(){return t.submitBid(a,e)}},e)}))),!n.length&&r.a.createElement("p",null,o," is dealing ",this.state.round+1," card",this.state.round>0?"s":"",".",r.a.createElement("br",null),a," bids first."),!!n.length&&r.a.createElement("h3",null,"Bids"),!!n.length&&r.a.createElement("ul",{className:"list-unstyled"},n.map((function(e){var t=e.player,a=e.bid;return r.a.createElement("li",{key:"bid-list-item-".concat(t)},t,": ",a)}))),!a&&r.a.createElement("div",null,r.a.createElement("p",null,"All bids are in. ",e," goes first."),r.a.createElement("button",{onClick:this.doneBidding.bind(this),className:"btn btn-lg btn-primary"},"Continue")))}},{key:"renderInputPlayers",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Players"),this.state.players.length?r.a.createElement("ul",null,this.state.players.map((function(e){return r.a.createElement("li",{key:e},e)}))):r.a.createElement("p",null,"No players yet."),r.a.createElement("form",{onSubmit:this.addPlayer.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",id:"player-name-input",type:"text",placeholder:"Player name",onChange:function(t){return e.updatePlayerInput(t.target.value)},value:this.state.playerInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"add-player-btn btn btn-primary",onClick:this.addPlayer.bind(this)},"Add Player"),r.a.createElement("button",{className:"add-player-btn btn btn-success",onClick:this.startGame.bind(this)},"Start"),this.state.playerInputError&&r.a.createElement("div",{className:"alert alert-danger",style:{color:"red"}},this.state.playerInputError))))}},{key:"renderLeaderboard",value:function(){var e=D(this.state);return e.length&&"input-players"!==this.state.stage?r.a.createElement("div",{className:"scores"},r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"scores-title"},"Leaders"),r.a.createElement("ul",{className:"scores-list"},e.map((function(e){var t=e.player,a=e.score;return r.a.createElement("li",{key:t},t," (",a,")")}))))):null}},{key:"renderNewGameModal",value:function(){return this.state.showNewGameModal?r.a.createElement(T,{onClose:this.closeNewGameModal.bind(this),onNewGame:this.startNewGame.bind(this)}):null}},{key:"renderRulesModal",value:function(){return this.state.showRulesModal?r.a.createElement(C,{onClose:this.closeRulesModal.bind(this)}):null}},{key:"renderAddPlayerModal",value:function(){return this.state.showAddPlayerModal?r.a.createElement(S,{onClose:this.closeAddPlayerModal.bind(this),onAddPlayer:this.addPlayerMidGame.bind(this)}):null}},{key:"render",value:function(){var e,t=this.state.stage;"input-players"===t?e=this.renderInputPlayers():"bids"===t?e=this.renderBids():"tricks"===t&&(e=this.renderTricks());var a={onClose:this.closeMenu.bind(this),onShowRules:this.showRulesModal.bind(this),onNewGame:this.showNewGameModal.bind(this),onAddPlayer:this.showAddPlayerModal.bind(this),onShowGrid:this.showGrid.bind(this),onUndo:this.undo.bind(this)};return r.a.createElement("div",null,r.a.createElement("main",null,r.a.createElement("header",null,r.a.createElement("div",{className:"header-container container"},r.a.createElement("h1",{className:"header-title"},r.a.createElement("img",{className:"menu-cta",onClick:this.openMenu.bind(this),src:G.a,alt:""}),r.a.createElement("span",null,"Greed")),"input-players"!==this.state.stage&&r.a.createElement("h3",null,"Round ",this.state.round+1))),r.a.createElement("div",{className:"stage container"},this.state.showGrid?r.a.createElement(I,{players:this.state.players,completedRounds:L(this.state),onClose:this.hideGrid.bind(this)}):e),this.renderLeaderboard()),this.renderNewGameModal(),this.renderRulesModal(),this.renderAddPlayerModal(),this.state.showMenu&&r.a.createElement(P,a))}}]),a}(n.Component),q=a(27),$=a(63),H=a(64),K=a(67),Q=a(37),X=a(56),Z=a.n(X),_={id:Z.a.v4(),name:"My Team",players:{}},ee={version:1,teams:Object(c.a)({},_.id,_),activeTeamId:_.id,playerFormName:"",isPlaying:!1,playTimeStart:void 0,totalGameTime:0,editMode:!1,showTeamList:!1},te=function(e,t){var a=ae[t.type](e,t);return localStorage.setItem("rosterState",JSON.stringify(a)),a},ae={addTeam:function(e,t){var a={id:Z.a.v4(),name:t.name,players:{}};return v.a(b.a(["teams",a.id]),a,e)},setTeamName:function(e,t){return v.a(b.a(["teams",t.teamId,"name"]),t.name,e)},selectTeam:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{activeTeamId:t.teamId,showTeamList:!1})},showTeamList:function(e){return Object(u.a)(Object(u.a)({},e),{},{showTeamList:!0})},setPlayerFormName:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{playerFormName:t.value})},addPlayer:function(e){var t={id:Z.a.v4(),name:e.playerFormName,playTimeMillis:0,isPlaying:!1,isAvailable:!0};return Object(u.a)(Object(u.a)({},v.a(b.a(["teams",e.activeTeamId,"players",t.id]),t,e)),{},{playerFormName:""})},toggleIsPlaying:function(e){var t=!e.isPlaying;return Object(u.a)(Object(u.a)({},e),{},{isPlaying:t,playTimeStart:Date.now()})},updatePlayTimes:function(e){var t=Date.now()-e.playTimeStart,a=Date.now(),n=$.a((function(e){return Object(u.a)(Object(u.a)({},e),{},{playTimeMillis:e.isPlaying?e.playTimeMillis+t:e.playTimeMillis})}),e.teams[e.activeTeamId].players);return Object(u.a)(Object(u.a)({},v.a(b.a(["teams",e.activeTeamId,"players"]),n,e)),{},{playTimeStart:a,totalGameTime:e.totalGameTime+t})},togglePlayerIsPlaying:function(e,t){return v.a(b.a(["teams",e.activeTeamId,"players",t.playerId,"isPlaying"]),!e.teams[e.activeTeamId].players[t.playerId].isPlaying,e)},togglePlayerIsAvailable:function(e,t){var a=e.teams[e.activeTeamId].players[t.playerId];return v.a(b.a(["teams",e.activeTeamId,"players",t.playerId]),Object(u.a)(Object(u.a)({},a),{},{isAvailable:!a.isAvailable,isPlaying:!1}),e)},setPlayerName:function(e,t){return v.a(b.a(["teams",e.activeTeamId,"players",t.playerId,"name"]),t.name,e)},deletePlayer:function(e,t){return v.a(b.a(["teams",e.activeTeamId,"players"]),H.a([t.playerId],e.teams[e.activeTeamId].players),e)},newGame:function(e){var t=$.a((function(e){return Object(u.a)(Object(u.a)({},e),{},{playTimeMillis:0,isPlaying:!1})}),e.teams[e.activeTeamId].players);return Object(u.a)(Object(u.a)({},v.a(b.a(["teams",e.activeTeamId,"players"]),t,e)),{},{isPlaying:!1,totalGameTime:0})},toggleEditMode:function(e){return Object(u.a)(Object(u.a)({},e),{},{editMode:!e.editMode})}},ne=function(e){return Math.floor(e/1e3/60)+":"+(""+Math.floor(e/1e3%60)).padStart(2,"0")},re={padding:"5px",width:"100%",display:"block"},le=function(){var e=function(){var e=localStorage.getItem("rosterState");return e?JSON.parse(e):ee}(),t=Object(n.useReducer)(te,e),a=Object(q.a)(t,2),l=a[0],i=a[1];Object(n.useEffect)((function(){var e=setInterval((function(){l.isPlaying&&i({type:"updatePlayTimes"})}),1e3);return function(){return clearInterval(e)}}));if(l.showTeamList||null==l.activeTeamId)return r.a.createElement(ce,{teams:l.teams,dispatch:i});var s=K.a(Q.a("playTimeMillis"),Object.values(l.teams[l.activeTeamId].players)),o=s.filter((function(e){return e.isAvailable&&e.isPlaying})),c=s.filter((function(e){return e.isAvailable&&!e.isPlaying})),u=s.filter((function(e){return!e.isAvailable})),d=s.reduce((function(e,t){return e+t.playTimeMillis}),0)/s.length,m={background:"lightgrey",fontSize:"20px",textAlign:"center",margin:"0",padding:"4px 0"};return r.a.createElement("div",{style:{fontSize:"20px"}},r.a.createElement("div",{style:{background:l.isPlaying?"green":"red",textAlign:"center",margin:"0",padding:"6px 0",fontSize:"22px"},onClick:function(){return i({type:"toggleIsPlaying"})}},l.isPlaying?"Playing ":"Paused ",ne(l.totalGameTime)," ","(Tap to ",l.isPlaying?"pause":"resume",")"),l.editMode&&r.a.createElement("div",null,r.a.createElement("input",{style:re,type:"text",value:l.playerFormName,onChange:function(e){var t=e.target.value;i({type:"setPlayerFormName",value:t})}}),r.a.createElement("button",{onClick:function(){return i({type:"addPlayer"})}},"Add Player")),r.a.createElement("div",{style:m},"In Play"),r.a.createElement(oe,{players:o,dispatch:i,avgPlayTime:d,editMode:l.editMode}),r.a.createElement("div",{style:m},"On the Bench"),r.a.createElement(oe,{players:c,dispatch:i,avgPlayTime:d,editMode:l.editMode}),l.editMode&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:m},"Unavailable"),r.a.createElement(oe,{players:u,dispatch:i,avgPlayTime:d,editMode:l.editMode})),r.a.createElement("div",{style:m},"Actions"),r.a.createElement("button",{onClick:function(){return i({type:"newGame"})}},"New Game"),r.a.createElement("button",{onClick:function(){return i({type:"toggleEditMode"})}},l.editMode?"Done Editing":"Edit Players"),r.a.createElement("button",{onClick:function(){return i({type:"showTeamList"})}},"Switch Team"))},ie={UNDERPLAYED:{backgroundColor:"lightblue"},NORMAL:{},OVERPLAYED:{backgroundColor:"pink"}},se=function(e){var t=e.player,a=e.dispatch,n=e.avgPlayTime,l=e.editMode,i=t.playTimeMillis/n,s="NORMAL";n>12e3&&(i<.7?s="UNDERPLAYED":i>1.3&&(s="OVERPLAYED"));var o=Object(u.a)({fontSize:"20px",margin:"0",padding:"10px",borderStyle:"solid",borderWidth:"0 0 1px 0",borderColor:"light grey"},ie[s]);return l?r.a.createElement("div",null,r.a.createElement("input",{style:re,value:t.name,onChange:function(e){return a({type:"setPlayerName",playerId:t.id,name:e.target.value})}}),r.a.createElement("button",{onClick:function(){return a({type:"deletePlayer",playerId:t.id})}},"Delete"),r.a.createElement("button",{onClick:function(){return a({type:"togglePlayerIsAvailable",playerId:t.id})}},t.isAvailable?"Unavailable":"Available")):r.a.createElement("div",{onClick:function(){return a({type:"togglePlayerIsPlaying",playerId:t.id})},style:o},t.name," ",ne(t.playTimeMillis))},oe=function(e){var t=e.players,a=e.dispatch,n=e.avgPlayTime,l=e.editMode;return r.a.createElement("ul",{style:{listStyleType:"none",margin:0,padding:0}},t.map((function(e){return r.a.createElement("li",{style:{margin:0,padding:0},key:e.id},r.a.createElement(se,{player:e,dispatch:a,avgPlayTime:n,editMode:l}))})))},ce=function(e){var t=e.teams,a=e.dispatch;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return a({type:"addTeam",name:"New Team"})}},"Add Team")),r.a.createElement("ul",{style:{margin:0,padding:0,listStyleType:"none"}},Object.values(t).map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(ue,{team:e,dispatch:a}))}))))},ue=function(e){var t=e.team,a=e.dispatch;return r.a.createElement("div",null,r.a.createElement("input",{style:re,type:"text",value:t.name,onChange:function(e){a({type:"setTeamName",teamId:t.id,name:e.target.value})}}),r.a.createElement("button",{onClick:function(){return a({type:"selectTeam",teamId:t.id})}},"Select"))};function de(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#/greed"},"Greed")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/roster"},"Roster")))}function me(){return r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",element:r.a.createElement(de,null)}),r.a.createElement(o.a,{path:"/greed",element:r.a.createElement(z,null)}),r.a.createElement(o.a,{path:"/roster",element:r.a.createElement(le,null)})))}var he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(me,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/game-scoring-apps",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/game-scoring-apps","/service-worker.js");he?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):pe(e)}))}}()}},[[73,1,2]]]);
//# sourceMappingURL=main.ea3aa302.chunk.js.map